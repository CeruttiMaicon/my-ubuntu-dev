autoinstall:
  version: 1
  identity:
    hostname: maicon-desktop
    username: maicon
    # root password
    password: "08b5b6491249d55a305827167308e12bd190200aa0f78b6d59b293398fb1338d1db1fd5e8059cdfd1d2849fe528532066505867250fd29560793d279edc694a1"

  locale:
    - pt_BR.UTF-8
  keyboard:
    layout: us
    variant: qwerty

  packages:
    - curl
    - git
    - git-flow
    - docker.io
    - flameshot
    - gnome-tweaks
    - chromium
    - fonts-firacode
    - inkscape
    - gimp

  snaps:
    - name: discord
      classic: true

  late-commands:
    # Atualiza o cache do apt
    - curtin in-target --target=/target apt-get update

    # Instala dependências básicas
    - curtin in-target --target=/target apt-get install -y wget ca-certificates

    # Baixa todos os scripts para /usr/local/bin/
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/nvm.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/vscode.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/zsh.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/docker.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/docker-compose-v2.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/eza-icons-terminal.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/powerlevel10k.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/warp-terminal.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/spotify.sh"
    - curtin in-target --target=/target bash -c "cd /usr/local/bin && wget -q https://raw.githubusercontent.com/CeruttiMaicon/my-ubuntu-dev/main/scripts/1password.sh"

    # Permite execução dos scripts
    - curtin in-target --target=/target chmod +x /usr/local/bin/*.sh

    # Executa o scripts
    - curtin in-target --target=/target bash /usr/local/bin/nvm.sh
    - curtin in-target --target=/target bash /usr/local/bin/vscode.sh
    - curtin in-target --target=/target bash /usr/local/bin/zsh.sh
    - curtin in-target --target=/target bash /usr/local/bin/docker.sh
    - curtin in-target --target=/target bash /usr/local/bin/docker-compose-v2.sh
    - curtin in-target --target=/target bash /usr/local/bin/eza-icons-terminal.sh
    - curtin in-target --target=/target bash /usr/local/bin/powerlevel10k.sh
    - curtin in-target --target=/target bash /usr/local/bin/warp-terminal.sh
    - curtin in-target --target=/target bash /usr/local/bin/spotify.sh
    - curtin in-target --target=/target bash /usr/local/bin/1password.sh